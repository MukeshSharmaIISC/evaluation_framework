Perfect â€” this is a **very practical and important question** ğŸ‘
Iâ€™ll now switch from *architecture* to **â€œhow do I actually start in VS Codeâ€**, while **keeping the phase-wise plan intact**.

Iâ€™ll do this in a **copy-paste friendly, beginner-proof, but still research-grade** way.

---

# ğŸ§‘â€ğŸ’» How to Begin in VS Code (Step-by-Step)

We will **only set up Phase 0 + Phase 1 skeleton**.
No logic yet beyond what is required.

---

## STEP 1ï¸âƒ£ Create the Project Folder

Open VS Code â†’ Open Folder â†’ create and open:

```
eval_framework
```

This is your **root directory**.

---

## STEP 2ï¸âƒ£ Create the Final Project Structure (Folders Only)

In VS Code Explorer, create **exactly this**:

```
eval_framework/
â”‚
â”œâ”€â”€ config.yaml
â”œâ”€â”€ env.lock.json
â”œâ”€â”€ runner.py
â”‚
â”œâ”€â”€ dataset/
â”‚   â”œâ”€â”€ download_dataset.py
â”‚   â”œâ”€â”€ extract_task_data.py
â”‚   â””â”€â”€ prepare_dataset.py
â”‚
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ task_schema.py
â”‚
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ swebench.Dockerfile
â”‚
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ base.py
â”‚   â””â”€â”€ gemini_cli.py
â”‚
â”œâ”€â”€ repo/
â”‚   â””â”€â”€ checkout.py
â”‚
â”œâ”€â”€ patch/
â”‚   â””â”€â”€ normalize.py
â”‚
â”œâ”€â”€ evaluation/
â”‚   â”œâ”€â”€ apply_patch.py
â”‚   â”œâ”€â”€ run_tests.py
â”‚   â””â”€â”€ judge.py
â”‚
â”œâ”€â”€ metrics/
â”‚   â””â”€â”€ aggregator.py
â”‚
â””â”€â”€ logs/
```

âš ï¸ Create folders first, then empty files.

---

## STEP 3ï¸âƒ£ Copy Files from TeamCity Repo (IMPORTANT)

Now open the **JetBrains TeamCity repo** side-by-side in VS Code.

### Copy these files **verbatim** (no edits):

### ğŸ“Œ File 1

From:

```
teamcity-ai-agent-testing-demo/scripts/download_dataset.py
```

To:

```
eval_framework/dataset/download_dataset.py
```

### ğŸ“Œ File 2

From:

```
teamcity-ai-agent-testing-demo/scripts/extract_task_data.py
```

To:

```
eval_framework/dataset/extract_task_data.py
```

ğŸ‘‰ **Do not modify even one line**.

This ensures **semantic parity**.

---

## STEP 4ï¸âƒ£ Create `prepare_dataset.py`

ğŸ“„ **File:** `dataset/prepare_dataset.py`

Copy-paste this:

```python
import subprocess
import pathlib


DATASET_DIR = pathlib.Path("datasets/SWE-bench_Lite")


def prepare_dataset():
    """
    TeamCity equivalent:
    - download_dataset.py
    - artifact caching
    """
    if DATASET_DIR.exists():
        print("[INFO] SWE-Bench Lite already present. Skipping download.")
        return

    print("[INFO] Preparing SWE-Bench Lite dataset...")
    subprocess.run(
        ["python", "dataset/download_dataset.py"],
        check=True
    )


def validate_dataset():
    required_files = ["test.json", "train.json"]
    for f in required_files:
        path = DATASET_DIR / f
        if not path.exists():
            raise RuntimeError(f"Missing dataset file: {path}")


if __name__ == "__main__":
    prepare_dataset()
    validate_dataset()
```

This is your **Python replacement for the TeamCity dataset build**.

---

## STEP 5ï¸âƒ£ Create Task Schema

ğŸ“„ **File:** `tasks/task_schema.py`

Copy-paste:

```python
from dataclasses import dataclass


@dataclass(frozen=True)
class Task:
    """
    Exact semantic equivalent of TeamCity task.json
    """
    instance_id: str
    repo: str
    base_commit: str
    problem_statement: str
    test_command: str
```

Do **not add fields**.

---

## STEP 6ï¸âƒ£ Create `runner.py` (Empty Skeleton)

ğŸ“„ **File:** `runner.py`

Copy-paste:

```python
def main():
    """
    This will replace the TeamCity pipeline.
    Phase-wise implementation will be added incrementally.
    """
    print("Evaluation framework initialized.")


if __name__ == "__main__":
    main()
```

This is just a placeholder for now.

---

## STEP 7ï¸âƒ£ Environment Lock File

ğŸ“„ **File:** `env.lock.json`

Copy-paste:

```json
{
  "python": "3.11",
  "docker": ">=24.0",
  "git": ">=2.40",
  "swebench_commit": "TO_BE_FILLED",
  "gemini_cli_version": "TO_BE_FILLED"
}
```

We will fill this later.

---

## STEP 8ï¸âƒ£ Verify Phase 1 Works

Open VS Code terminal (inside `eval_framework`):

```bash
python dataset/prepare_dataset.py
```

Expected:

* Dataset downloads OR
* Skips if already present
* No errors

---

# âœ… What You Have Achieved So Far

At this point:

âœ” Project structure is **final and locked**
âœ” SWE-Bench dataset preparation is **TeamCity-equivalent**
âœ” Task schema is frozen
âœ” Phase-wise plan is preserved

You have **not implemented anything prematurely** â€” this is correct.

---

# ğŸ§  Mental Model (Very Important)

Think like this:

* **Folders** = TeamCity build stages
* **Files** = TeamCity scripts
* **runner.py** = TeamCity pipeline DAG

This mindset will keep you aligned.

---

## ğŸ”’ Next Checkpoint

Before moving to Docker & repo checkout, confirm:

> â€œMy VS Code project structure matches exactly, and I have copied the two SWE-Bench scripts verbatim.â€

Reply with **READY FOR PHASE 3**.

Then weâ€™ll:
ğŸ‘‰ Build **Docker-based repo checkout & isolation**, step by step, copy-paste style.




